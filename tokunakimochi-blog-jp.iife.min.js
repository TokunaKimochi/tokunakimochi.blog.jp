!function(s,n){"use strict";var i,c;s[n]=(i="./init.json",c=["(^_^)"],{setJSONURI:function(n){return i=n,this},addKaomoji:function(n){return c=c.concat(n),this},usingJSONEscKomoji:function(n){n&&this.setJSONURI(n);var o=this,t=new s.XMLHttpRequest;t.open("GET",i,!0),t.setRequestHeader("Content-Type","application/json; charset=utf-8");var e=function(){try{t.responseType="json"}catch(n){return!1}return"response"in t&&"json"===t.responseType}();t.timeout=5e3,t.send(null),t.onload=function(){if(200<=this.status&&this.status<300||304===this.status){var n=(e?this.response:JSON.parse(this.responseText)).KaomojiArray;o.addKaomoji(n),o.escKaomoji()}else console.log("データ取得失敗")},t.ontimeout=function(){this&&(this.abort(),t=null,console.log("タイムアウト"))},t.onerror=function(){t=null,console.log("エラー")},t=null},escKaomoji:function(){for(var o,n=document.getElementsByClassName("markdown"),t=(o={"*":"&#x2a;",_:"&#x5f;","~":"&#x7e;","`":"&#x60;","[":"&#x5b;","]":"&#x5d;","(":"&#x28;",")":"&#x29;",":":"&#x3a;"},function(n){return n.replace(/[*_~`\[\]():]/g,function(n){return o[n]})}),e=0;e<n.length;e++){for(var s=n[e].value,i=0;i<c.length;i++)for(var a=0,r=" "+c[i]+" ",u='<span class="kaomoji"><code>'+c[i]+"</code></span>";-1!==a;)-1!==(a=s.indexOf(r,a))&&(s=(s=s.replace(r,u)).replace(c[i],t),a+=31);n[e].value=s}}}),s[n].usingJSONEscKomoji("/config/init.json")}(this,"tokunakimochiBlogJpJavascript");